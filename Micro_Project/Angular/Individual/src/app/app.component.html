<html>

<head>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" />
</head>

<body [ngClass]="bod">
  <h1 [ngStyle]="myhead">Crop Harvest Management System</h1>
  <div class="container" >
    <div class="row justify-content-center">
      <div class="col-md-10">
        <form #CropHarvest="ngForm">
          <div class="form-group">
            <label [ngClass]="lab" for="Crop Id">
              Crop Id:
            </label>
            <input type="text" class="form-control" name="id" #id="ngModel" ngModel required pattern="[0-9]+" />
            <div *ngIf="id.touched">
              <div *ngIf="id.errors?.['required']">
                <b style="color: red;">Crop Id Required.</b>
              </div>
              <div *ngIf="id.errors?.['pattern']">
                <font color="red"><b>Invalid Crop Id.</b></font>
              </div>
            </div>
          </div>

          <div class="form-group">
            <label [ngClass]="lab" for="Crop Name">
              Crop Name/Crop Type:
            </label>
            <input type="text" class="form-control" name="crpName" #crpName="ngModel" ngModel required
              pattern="[a-zA-Z]+" />
            <div *ngIf="crpName.touched">
              <div *ngIf="crpName.errors?.['required']">
                <b style="color: red;">Crop Name Required.</b>
              </div>
              <div *ngIf="crpName.errors?.['pattern']">
                <font color="red"><b>Invalid Crop Name.</b></font>
              </div>
            </div>
          </div>

          <div class="form-group">
            <label [ngClass]="lab" for="Cult Per">
              Cultivation Period in months:
            </label>
            <input type="text" class="form-control" name="cultPer" #cultPer="ngModel" ngModel required
              pattern="[0-9]+" />
            <div *ngIf="cultPer.touched">
              <div *ngIf="cultPer.errors?.['required']">
                <b style="color: red;">Cultivation Period Required.</b>
              </div>
              <div *ngIf="cultPer.errors?.['pattern']">
                <font color="red"><b>Invalid Cultivation Period.</b></font>
              </div>
            </div>
          </div>

          <div class="form-group">
            <label [ngClass]="lab" for="Harvest">
              Harvesting Capacity in Kg:
            </label>
            <input type="text" class="form-control" name="harCap" #harCap="ngModel" ngModel required pattern="[0-9]+" />
            <div *ngIf="harCap.touched">
              <div *ngIf="harCap.errors?.['required']">
                <b style="color: red;">Harvesting Capacity Required.</b>
              </div>
              <div *ngIf="harCap.errors?.['pattern']">
                <font color="red"><b>Invalid Harvesting Capacity.</b></font>
              </div>
            </div>
          </div>

          <div style="margin-left:15% ;">
          <button class="btn btn-success" (click)="insertCrop(CropHarvest.value)">
            Insert
          </button>
          &nbsp;&nbsp;
          <button class="btn btn-primary" (click)="updateCrop(CropHarvest.value)">
            Update
          </button>&nbsp;&nbsp;
          <button class="btn btn-danger" (click)="deleteCrop(CropHarvest.value)">
            Delete
          </button>&nbsp;&nbsp;
          <button class="btn btn-warning" (click)="findCrop(CropHarvest.value)">
            Find
          </button>
          &nbsp;&nbsp;
          <button class="btn btn-info" (click)="findAllCrops()">
            Find All
          </button>
          </div>
        </form>

      </div>
    </div>
  </div>
  <br>
  <div align="center">
    <font color="green"><b>{{result}}</b></font>
  </div>
  <table border="5px solid blue" align="center" width="60%" *ngIf="flag">
    <tr>
      <th>Crop Id</th>
      <th>Crop Name</th>
      <th>Cultivation Period in months</th>
      <th>Harvesting Capacity in Kg</th>
    </tr>
    <tr *ngFor="let crp of cropArr">
      <td>{{crp.id}}</td>
      <td>{{crp.crpName}}</td>
      <td>{{crp.cultPer}}</td>
      <td>{{crp.harCap}}</td>
    </tr>
  </table>

</body>

</html>